<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0d1117">
    
    <title>Wielka Por贸wnywarka Tuner贸w Enigma2 | AIO-IPTV.pl</title>
    
    <link rel="icon" type="image/png" href="pliki/logo.png">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* --- NOWY STYL DLA SEKCJI WYBORU (GRID) --- */
        .comparison-wrapper {
            margin-top: 20px;
        }

        /* Wyszukiwarka na ca szeroko */
        .search-row {
            margin-bottom: 25px;
        }
        .search-row input {
            width: 100%;
            padding: 12px 15px;
            font-size: 1rem;
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 6px;
            color: #c9d1d9;
        }

        /* Siatka dla dw贸ch kolumn wyboru */
        .selectors-grid {
            display: grid;
            grid-template-columns: 1fr 1fr; /* Dwie r贸wne kolumny */
            gap: 30px; /* Du偶y odstp midzy kolumnami */
            margin-bottom: 25px;
            align-items: start;
        }

        /* Pudeko dla pojedynczego wyboru */
        .selector-box {
            background: rgba(22, 27, 34, 0.7); /* Ciemniejsze to */
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transition: border-color 0.3s;
        }
        .selector-box:hover {
            border-color: #58a6ff;
        }

        .selector-label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            color: #58a6ff;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .tuner-select {
            width: 100%;
            padding: 10px;
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 6px;
            color: white;
            font-size: 1rem;
        }

        /* Przycisk akcji */
        .action-row {
            text-align: center;
            margin-bottom: 30px;
        }
        .compare-btn-big {
            background: linear-gradient(180deg, #238636 0%, #2ea043 100%);
            color: white;
            border: 1px solid rgba(255,255,255,0.1);
            padding: 12px 40px;
            font-size: 1.1rem;
            font-weight: bold;
            border-radius: 6px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 5px 15px rgba(35, 134, 54, 0.3);
        }
        .compare-btn-big:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(35, 134, 54, 0.4);
        }

        /* Tabela wynik贸w */
        .comparison-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0 8px; /* Odstp midzy wierszami tabeli */
        }
        .comparison-table th {
            text-align: left;
            padding: 12px 15px;
            color: #8b949e;
            font-size: 0.9rem;
            border-bottom: 2px solid #30363d;
        }
        .comparison-table td {
            background: rgba(33, 38, 45, 0.4);
            padding: 15px;
            border-top: 1px solid #30363d;
            border-bottom: 1px solid #30363d;
            vertical-align: middle;
        }
        .comparison-table tr td:first-child {
            border-left: 1px solid #30363d;
            border-top-left-radius: 6px;
            border-bottom-left-radius: 6px;
            font-weight: bold;
            color: #c9d1d9;
            width: 25%;
        }
        .comparison-table tr td:last-child {
            border-right: 1px solid #30363d;
            border-top-right-radius: 6px;
            border-bottom-right-radius: 6px;
        }

        /* Mobilne (Poni偶ej 768px) */
        @media (max-width: 768px) {
            .selectors-grid {
                grid-template-columns: 1fr; /* Jedna kolumna */
                gap: 15px;
            }
            .comparison-table {
                font-size: 0.9rem;
            }
            .comparison-table tr td:first-child {
                width: 30%;
            }
        }

        /* Notatki */
        .comparison-notes {
            margin-top: 30px;
            padding: 20px;
            background: rgba(13, 17, 23, 0.5);
            border: 1px dashed #30363d;
            border-radius: 6px;
            font-size: 0.8rem;
            color: #8b949e;
        }
    </style>
</head>
<body>
    <button onclick="topFunction()" id="topBtn" title="Wr贸 na g贸r">猬锔</button>

    <header>
        <div style="text-align:center; line-height: 1.2;">
            <img src="https://github.com/OliOli2013/aio-iptv-projekt/raw/main/pliki/logo.png" alt="Logo AIO-IPTV" class="site-logo">
            <p style="margin: 4px 0 0; font-size: 0.95rem;">Centrum Wiedzy o Tunerach</p>
        </div>
        
        <div class="nav-buttons">
            <a href="index.html" class="nav-btn"> Strona g贸wna</a>
            <button id="themeToggle" class="nav-btn" type="button"></button>
        </div>
    </header>

    <div class="container">
        
        <div class="card full-width" data-aos="fade-up">
            <h2> Por贸wnywarka Sprztowa</h2>
            <p>Wybierz dwa modele z listy, aby por贸wna ich podzespoy.</p>
            
            <div class="comparison-wrapper">
                <div class="search-row">
                    <input id="tunerSearch" type="text" placeholder=" Kliknij i wpisz nazw tunera (np. Zgemma H9, Octagon)..." />
                </div>

                <div class="selectors-grid">
                    <div class="selector-box">
                        <span class="selector-label">Tuner A</span>
                        <select id="tuner1-select" class="tuner-select">
                            <option value="">-- Wybierz model --</option>
                        </select>
                    </div>

                    <div class="selector-box">
                        <span class="selector-label">Tuner B</span>
                        <select id="tuner2-select" class="tuner-select">
                            <option value="">-- Wybierz model --</option>
                        </select>
                    </div>
                </div>

                <div class="action-row">
                    <button class="compare-btn-big" onclick="compareTuners()">PORWNAJ MODELE</button>
                </div>
            </div>
            
            <div id="comparison-result" style="display: none;">
                <h3 style="border-bottom: 1px solid #30363d; padding-bottom: 10px; margin-bottom: 20px;">
                    Wynik por贸wnania
                </h3>
                
                <table class="comparison-table" id="comparison-table">
                    <thead>
                        <tr>
                            <th>Parametr</th>
                            <th id="tuner1-name" style="color: #58a6ff; font-size: 1.1rem;">Tuner 1</th>
                            <th id="tuner2-name" style="color: #58a6ff; font-size: 1.1rem;">Tuner 2</th>
                        </tr>
                    </thead>
                    <tbody id="comparison-tbody"></tbody>
                </table>
                
                <div class="comparison-verdict" style="margin-top: 30px; padding: 20px; border-left: 4px solid #58a6ff; background: rgba(88, 166, 255, 0.1); border-radius: 0 6px 6px 0;">
                    <h4 style="margin-top: 0; color: #58a6ff;"> Analiza</h4>
                    <p id="verdict-text" style="margin: 0; font-size: 1rem; line-height: 1.6;"></p>
                </div>

                <div class="comparison-notes">
                    <strong>锔 Wa偶ne informacje:</strong>
                    <ul style="margin: 5px 0 0 20px; padding: 0;">
                        <li>Dla modeli oznaczonych jako "Rynek wt贸rny" lub "Wycofany" dane s historyczne.</li>
                        <li>W przypadku modeli z wymiennymi gowicami podano konfiguracj fabryczn.</li>
                        <li>Dane cenowe s urednione z polskich sklep贸w (Stan: Grudzie 2025).</li>
                        <li>Zalecamy weryfikacj specyfikacji u sprzedawcy przed zakupem.</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="card full-width" data-aos="fade-up" data-aos-delay="100">
            <h2> Ranking Tuner贸w 2025</h2>
            <p>Najpopularniejsze wybory u偶ytkownik贸w w Polsce.</p>
            
            <div class="ranking-list">
                <div class="ranking-item">
                    <div class="rank-number">1</div>
                    <div class="rank-info">
                        <h4>Octagon SF8008 4K / Supreme</h4>
                        <div class="rank-stats">
                            <span> 1Gbit LAN</span>
                            <span> WiFi</span>
                            <span> ~480 z</span>
                        </div>
                        <div class="rank-reason">
                            <strong>Lider Rynku.</strong> Najlepszy balans ceny do mo偶liwoci. Posiada szybki procesor HiSilicon, gigabitow sie (wa偶ne przy NAS) i dobre WiFi. Wersja Supreme dodaje slot M.2.
                        </div>
                    </div>
                    <div class="rank-badge bestseller">Nr 1</div>
                </div>

                <div class="ranking-item">
                    <div class="rank-number">2</div>
                    <div class="rank-info">
                        <h4>Zgemma H11S / H9S</h4>
                        <div class="rank-stats">
                            <span> Tani</span>
                            <span> 4K UHD</span>
                            <span> ~290 z</span>
                        </div>
                        <div class="rank-reason">
                            <strong>Kr贸l Bud偶etu.</strong> Absolutnie najtaszy spos贸b na stabilne 4K z Enigm2. Idealny na start.
                        </div>
                    </div>
                    <div class="rank-badge value">Ekonomia</div>
                </div>

                <div class="ranking-item">
                    <div class="rank-number">3</div>
                    <div class="rank-info">
                        <h4>AB Pulse 4K Mini</h4>
                        <div class="rank-stats">
                            <span> Slot CI+</span>
                            <span> Europejski</span>
                            <span> ~430 z</span>
                        </div>
                        <div class="rank-reason">
                            <strong>Najtaszy z CI+.</strong> Jeli masz modu Polsatu lub Canal+, to jest najtaszy tuner 4K, kt贸ry go obsu偶y.
                        </div>
                    </div>
                    <div class="rank-badge value">Unikat</div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 AIO-IPTV.pl</p>
    </footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="script.js"></script>
    
    <script>
    let tunersList = [];

    async function loadTunersList() {
        try {
            const res = await fetch('data/tuners.json');
            if (!res.ok) throw new Error('Bd HTTP');
            const json = await res.json();
            tunersList = json.tuners || [];
            populateTunerSelects(tunersList);
        } catch (e) {
            console.error(e);
        }
    }

    function populateTunerSelects(list) {
        const s1 = document.getElementById('tuner1-select');
        const s2 = document.getElementById('tuner2-select');
        
        list.sort((a, b) => (a.brand + a.model).localeCompare(b.brand + b.model));

        const createOpts = (items) => ['<option value="">-- Wybierz model --</option>']
            .concat(items.map(t => `<option value="${t.id}">${t.brand} ${t.model}</option>`)).join('');
        
        s1.innerHTML = createOpts(list);
        s2.innerHTML = createOpts(list);

        const inp = document.getElementById('tunerSearch');
        
        inp.addEventListener('input', () => {
            const q = inp.value.toLowerCase();
            const res = list.filter(t => (t.brand + ' ' + t.model).toLowerCase().includes(q));
            s1.innerHTML = createOpts(res);
            s2.innerHTML = createOpts(res);
        });
    }

    function compareTuners() {
        const id1 = document.getElementById('tuner1-select').value;
        const id2 = document.getElementById('tuner2-select').value;
        
        if (!id1 || !id2) { alert("Wybierz dwa r贸偶ne tunery!"); return; }

        const t1 = tunersList.find(t => t.id === id1);
        const t2 = tunersList.find(t => t.id === id2);

        document.getElementById('tuner1-name').textContent = t1.brand + ' ' + t1.model;
        document.getElementById('tuner2-name').textContent = t2.brand + ' ' + t2.model;

        const tbody = document.getElementById('comparison-tbody');
        tbody.innerHTML = '';

        const fields = [
            { k: 'cpu', l: 'Procesor' },
            { k: 'ram', l: 'RAM' },
            { k: 'flash', l: 'Pami Flash' },
            { k: 'lan', l: 'Sie LAN ' },
            { k: 'wifi', l: 'WiFi ' },
            { k: 'slots', l: 'Sloty (CI/Karty) ' },
            { k: 'tuners', l: 'Gowice' },
            { k: 'resolution', l: 'Rozdzielczo' },
            { k: 'price', l: 'Cena (rednia)' }
        ];

        fields.forEach(f => {
            const v1 = t1[f.k] || '-';
            const v2 = t2[f.k] || '-';
            let s1 = '', s2 = '';

            if (f.k === 'lan') {
                if (v1.includes('Gigabit') && !v2.includes('Gigabit')) s1 = 'color:#3fb950; font-weight:bold';
                if (v2.includes('Gigabit') && !v1.includes('Gigabit')) s2 = 'color:#3fb950; font-weight:bold';
            }
            if (['ram', 'flash'].includes(f.k)) {
               // Prosta logika: wiksza liczba wygrywa
               const n1 = parseInt(v1); const n2 = parseInt(v2);
               if(n1 > n2) s1 = 'color:#3fb950; font-weight:bold';
               if(n2 > n1) s2 = 'color:#3fb950; font-weight:bold';
            }

            tbody.innerHTML += `<tr><td><strong>${f.l}</strong></td><td style="${s1}">${v1}</td><td style="${s2}">${v2}</td></tr>`;
        });

        generateVerdict(t1, t2);
        
        const res = document.getElementById('comparison-result');
        res.style.display = 'block';
        res.scrollIntoView({ behavior: 'smooth' });
    }

    function generateVerdict(t1, t2) {
        let text = "";
        if ((t1.lan||'').includes('Gigabit') && !(t2.lan||'').includes('Gigabit')) 
            text += ` <strong>${t1.model}</strong> ma szybsz sie (Gigabit), co jest lepsze do streamingu. `;
        else if ((t2.lan||'').includes('Gigabit') && !(t1.lan||'').includes('Gigabit')) 
            text += ` <strong>${t2.model}</strong> ma szybsz sie (Gigabit). `;
            
        if (text === "") text = "Oba tunery prezentuj zbli偶ony poziom technologiczny. Sprawd藕 dostpno i cen.";
        document.getElementById('verdict-text').innerHTML = text;
    }

    document.addEventListener('DOMContentLoaded', loadTunersList);
    AOS.init();
    </script>
</body>
</html>
